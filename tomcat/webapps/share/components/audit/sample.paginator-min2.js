(function(e){e.fn.paginateTable=function(f){var g=jQuery.extend({rowsPerPage:5,nextPage:".nextPage",prevPage:".prevPage",firstPage:".firstPage",lastPage:".lastPage",currentPage:".currentPage",totalPages:".totalPages",pageNumbers:".pageNumbers",maxPageNumbers:0,currentPageClass:"current",pager:".pager",autoHidePager:true},f||{});return this.each(function(){var l=e(this);var i=e(g.pager);var h=i.find(g.nextPage);var j=i.find(g.prevPage);var k=i.find(g.currentPage).first();if(k.size()>0){k.text("1")}else{i.append('<span style="display:none" class="'+g.currentPage.substr(1)+'" >1</span>');k=i.find(g.currentPage).first()}var n=i.find(g.firstPage);var m=i.find(g.lastPage);h.unbind("click");h.click(function(){var o=c(k.text());a(l,o+1,g);return false});j.unbind("click");j.click(function(){var o=c(k.text());a(l,o-1,g);return false});n.unbind("click");n.click(function(){a(l,1,g);return false});m.unbind("click");m.click(function(){var p=l.find("tbody tr");var o=Math.ceil(p.size()/g.rowsPerPage);a(l,o,g);return false});a(l,c(k.text()),g)})};function c(f){var g=parseInt(f,10);if(isNaN(g)){g=0}return Math.max(1,g)}function d(h,g,f){var i=h-Math.floor(f.maxPageNumbers/2);if(i<=1){return 1}return Math.min(i,g-f.maxPageNumbers)}function b(h,g,f){var i=h+Math.floor(f.maxPageNumbers/2);if(i>=g){return g}return Math.max(i,1+f.maxPageNumbers)}function a(u,s,h){s=Math.max(1,s);if(h.rowsPerPage>0){var v=u.find("tbody tr");var p=Math.ceil(v.size()/h.rowsPerPage);if(h.autoHidePager&&p<=1){e(h.pager).hide()}else{if(p>0){s=Math.min(s,p);var f=(s-1)*h.rowsPerPage;var r=s*h.rowsPerPage;e.each(v,function(i,w){if(i>=f&&i<r){e(w).show()}else{e(w).hide()}});var g=e(h.pager);g.find(h.currentPage).text(s);g.find(h.totalPages).text(p);var l=g.find(h.pageNumbers);if(l.size()>0){l.empty();var q;var n=d(s,p,h);var k=b(s,p,h);for(var j=n;j<=k;j++){q=(s==j)?h.currentPageClass:"";l.append("<a href='#' id='"+j+"' class='"+q+"'>"+j+"</a>")}l.children("a").click(function(){a(u,e(this).attr("id"),h);return false})}var o=g.find(h.currentPage);var p=g.find(h.totalPages);var m=g.find(h.prevPage);var t=g.find(h.nextPage);m.show();t.show();if(o.text()==1){m.hide()}else{if(o.text()==p.text()){t.hide()}}}}}}})(jQuery);